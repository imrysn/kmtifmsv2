import{j as e}from"./index-f88750f1.js";import{r as u}from"./react-vendor-a308f804.js";import"./router-vendor-90630356.js";import"./anime-vendor-37453147.js";const g=({showFileModal:r,setShowFileModal:l,selectedFile:a,fileComments:x,formatFileSize:t})=>{if(u.useEffect(()=>(r?(document.body.style.overflow="hidden",document.body.style.height="100vh",document.body.style.position="relative"):(document.body.style.overflow="auto",document.body.style.height="auto",document.body.style.position="relative"),()=>{document.body.style.overflow="auto",document.body.style.height="auto",document.body.style.position="relative"}),[r]),!r||!a)return null;const d=(s,i)=>s==="final_approved"?"status-approved":s.includes("rejected")?"status-rejected":i.includes("pending")?"status-pending":"status-uploaded",c=(s,i)=>{switch(s){case"uploaded":return"Uploaded";case"team_leader_approved":return"Team Leader Approved";case"final_approved":return"Final Approved";case"rejected_by_team_leader":return"Rejected by Team Leader";case"rejected_by_admin":return"Rejected by Admin";default:return s.charAt(0).toUpperCase()+s.slice(1).replace("_"," ")}},o=s=>{switch(s){case"pending_team_leader":return"Pending Team Leader Review";case"pending_admin":return"Pending Admin Review";case"published_to_public":return"Published to Public Network";case"rejected_by_team_leader":return"Rejected by Team Leader";case"rejected_by_admin":return"Rejected by Admin";default:return s.charAt(0).toUpperCase()+s.slice(1).replace("_"," ")}},m=()=>{if(!a.tags)return[];try{const s=JSON.parse(a.tags);return Array.isArray(s)?s:[]}catch{return[]}},j=s=>{if(!s)return"";const i=s.replace(/([A-Z])/g," $1").trim().split(/\s+/).filter(p=>p.length>0);if(i.length===0)return s;if(i.length===1)return i[0];const h=i[0],v=i.slice(1).join(" ");return`${h} : ${v}`},n=m();return e.jsx("div",{className:"user-file-modal-component modal-overlay",onClick:()=>l(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,margin:0,padding:0},children:e.jsxs("div",{className:"modal file-modal",onClick:s=>s.stopPropagation(),style:{margin:"0 auto",maxWidth:"650px",width:"90%",maxHeight:"85vh",display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"File Details"}),e.jsx("button",{onClick:()=>l(!1),className:"modal-close",children:"Ã—"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"file-details-section",children:[e.jsxs("div",{className:"file-detail-row",children:[e.jsx("span",{className:"detail-label",children:"Filename:"}),e.jsx("span",{className:"detail-value",children:a.original_name})]}),e.jsxs("div",{className:"file-detail-row",children:[e.jsx("span",{className:"detail-label",children:"File Type:"}),e.jsx("span",{className:"detail-value",children:a.file_type})]}),e.jsxs("div",{className:"file-detail-row",children:[e.jsx("span",{className:"detail-label",children:"File Size:"}),e.jsx("span",{className:"detail-value",children:t(a.file_size)})]}),e.jsxs("div",{className:"file-detail-row",children:[e.jsx("span",{className:"detail-label",children:"Uploaded:"}),e.jsx("span",{className:"detail-value",children:new Date(a.uploaded_at).toLocaleString()})]}),a.description&&e.jsxs("div",{className:"file-detail-row",children:[e.jsx("span",{className:"detail-label",children:"Description:"}),e.jsx("span",{className:"detail-value description-text",children:a.description})]}),a.category&&e.jsxs("div",{className:"file-detail-row",children:[e.jsx("span",{className:"detail-label",children:"Category:"}),e.jsx("span",{className:"detail-value",children:e.jsx("span",{className:"category-badge",children:j(a.category)})})]}),n.length>0&&e.jsxs("div",{className:"file-detail-row",children:[e.jsx("span",{className:"detail-label",children:"Tags:"}),e.jsx("div",{className:"detail-value",children:e.jsx("div",{className:"tags-display",children:n.map((s,i)=>e.jsx("span",{className:"tag-badge",children:s},i))})})]}),e.jsxs("div",{className:"file-detail-row",children:[e.jsx("span",{className:"detail-label",children:"Current Status:"}),e.jsxs("div",{className:"status-container",children:[e.jsx("span",{className:`status-badge ${d(a.status,a.current_stage)}`,children:c(a.status,a.current_stage)}),e.jsx("div",{className:"stage-text",children:o(a.current_stage)})]})]}),a.team_leader_reviewed_at&&e.jsxs("div",{className:"review-section",children:[e.jsx("h4",{children:"Team Leader Review"}),e.jsxs("div",{className:"review-info",children:[e.jsxs("div",{className:"review-detail",children:[e.jsx("span",{className:"review-label",children:"Reviewed by:"}),e.jsx("span",{className:"review-value",children:a.team_leader_username})]}),e.jsxs("div",{className:"review-detail",children:[e.jsx("span",{className:"review-label",children:"Review Date:"}),e.jsx("span",{className:"review-value",children:new Date(a.team_leader_reviewed_at).toLocaleString()})]}),a.team_leader_comments&&e.jsxs("div",{className:"review-detail",children:[e.jsx("span",{className:"review-label",children:"Comments:"}),e.jsx("span",{className:"review-value",children:a.team_leader_comments})]})]})]}),a.admin_reviewed_at&&e.jsxs("div",{className:"review-section",children:[e.jsx("h4",{children:"Admin Review"}),e.jsxs("div",{className:"review-info",children:[e.jsxs("div",{className:"review-detail",children:[e.jsx("span",{className:"review-label",children:"Reviewed by:"}),e.jsx("span",{className:"review-value",children:a.admin_username})]}),e.jsxs("div",{className:"review-detail",children:[e.jsx("span",{className:"review-label",children:"Review Date:"}),e.jsx("span",{className:"review-value",children:new Date(a.admin_reviewed_at).toLocaleString()})]}),a.admin_comments&&e.jsxs("div",{className:"review-detail",children:[e.jsx("span",{className:"review-label",children:"Comments:"}),e.jsx("span",{className:"review-value",children:a.admin_comments})]})]})]}),a.rejection_reason&&e.jsxs("div",{className:"rejection-section",children:[e.jsx("h4",{children:"Rejection Details"}),e.jsxs("div",{className:"rejection-info",children:[e.jsxs("div",{className:"rejection-detail",children:[e.jsx("span",{className:"rejection-label",children:"Rejected by:"}),e.jsx("span",{className:"rejection-value",children:a.rejected_by})]}),e.jsxs("div",{className:"rejection-detail",children:[e.jsx("span",{className:"rejection-label",children:"Rejection Date:"}),e.jsx("span",{className:"rejection-value",children:new Date(a.rejected_at).toLocaleString()})]}),e.jsxs("div",{className:"rejection-detail",children:[e.jsx("span",{className:"rejection-label",children:"Reason:"}),e.jsx("span",{className:"rejection-value rejection-reason",children:a.rejection_reason})]})]})]})]})})]})})};export{g as default};
